/* --- Use Tailwind's "apply" directive to create reusable components --- */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    /* --- Base styles for light mode --- */
    body {
        @apply bg-gray-100 text-gray-900;
    }

    /* --- Base styles for dark mode --- */
    .dark body {
        @apply bg-gray-900 text-gray-100;
    }
}

@layer components {
    /* --- Form Inputs --- */
    .form-label {
        @apply block text-sm font-medium text-gray-700 dark:text-gray-300;
    }
    .form-input {
        @apply relative block w-full appearance-none rounded-md border border-gray-300 dark:border-gray-600 px-3 py-3 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:z-10 focus:border-red-500 dark:focus:border-red-500 focus:outline-none focus:ring-red-500 sm:text-sm;
    }
    .form-checkbox {
        @apply h-4 w-4 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-red-600 focus:ring-red-500;
    }

    /* --- Buttons --- */
    .btn-primary {
        @apply flex justify-center rounded-md border border-transparent bg-red-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:ring-offset-gray-800;
    }
    .btn-secondary {
        @apply w-full text-center px-4 py-2 bg-red-50 dark:bg-gray-700 text-red-700 dark:text-red-300 text-sm font-medium rounded-md hover:bg-red-100 dark:hover:bg-gray-600;
    }
    
    /* --- Login Page Tabs --- */
    .tab-button {
        @apply flex-1 py-3 font-semibold text-center border-b-2 text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600;
    }
    .tab-active {
        @apply border-red-500 text-red-600 dark:text-red-500;
    }

    /* --- Product Card --- */
    .product-card {
        @apply bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 transition-all duration-200 ease-in-out flex flex-col h-full overflow-hidden shadow-sm;
    }
    .product-card:hover {
        @apply -translate-y-1 shadow-lg border-red-300 dark:border-red-500;
        box-shadow: 0 10px 15px -3px rgba(239, 68, 68, 0.1), 0 4px 6px -2px rgba(239, 68, 68, 0.05);
    }
    .product-image {
        @apply w-full h-56 object-contain rounded-md mb-4 bg-gray-50 dark:bg-gray-700;
    }
    .product-info {
        @apply flex-grow flex flex-col;
    }
    .product-name {
        @apply text-sm font-semibold text-gray-800 dark:text-gray-100 h-10 overflow-hidden mb-2;
        /* Clamp text to 2 lines */
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }
    .product-price {
        @apply text-lg font-bold text-gray-900 dark:text-white mt-auto mb-3;
    }
    .product-store {
        @apply text-xs font-medium text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-full px-2.5 py-1 self-start mb-2;
    }
    
    /* --- Grids --- */
    .grid-container-main {
        @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6;
    }
    .grid-container-recommend {
        @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6;
    }
    .placeholder-card {
        @apply text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm col-span-full flex flex-col items-center justify-center text-gray-500 dark:text-gray-400 min-h-[150px];
    }

    /* --- Modals & Loaders --- */
    .modal-backdrop {
        @apply fixed inset-0 bg-gray-900 bg-opacity-75 backdrop-filter backdrop-blur-sm flex flex-col items-center justify-center z-50;
        animation: fadeIn 0.3s ease-out;
    }
    .modal-content {
        @apply bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl w-full max-w-md;
        animation: slideIn 0.3s ease-out;
    }
    .loader {
        @apply w-16 h-16 border-4 border-red-500 border-t-transparent rounded-full;
        animation: spin 1s linear infinite;
    }
    .loader-small {
        @apply w-8 h-8 border-2 border-red-500 border-t-transparent rounded-full mb-2;
        animation: spin 1s linear infinite;
    }
}

/* --- Keyframe Animations --- */
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
@keyframes slideIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}